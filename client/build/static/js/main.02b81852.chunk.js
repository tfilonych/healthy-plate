(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(29),a(5)),i=a(1),s=a(8),u=a.n(s),m=a(11),d=(a(14),a(13)),p=a(7);function E(){}var v=Object(n.createContext)({token:null,userId:null,login:E,logout:E,isAuthenticated:!1}),b=function(){var e=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(p.a)(c,2),o=l[0],i=l[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,c,l,o,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,c=s.length>3&&void 0!==s[3]?s[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n),c["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:c});case 8:return l=e.sent,e.next=11,l.json();case 11:if(o=e.sent,l.ok){e.next=14;break}throw new Error(o.message||"Something went wrong");case 14:return r(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),i(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)((function(){return i(null)}),[])}}(),t=e.error,a=e.request,c=e.clearError,l=Object(n.useCallback)((function(e){window.M&&e&&window.M.toast({html:e})}),[]),o=(Object(n.useContext)(v),Object(n.useState)({email:"",password:""})),i=Object(p.a)(o,2),s=i[0];i[1];Object(n.useEffect)((function(){l(t),c()}),[t,l,c]);var E=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/api/auth/register","POST",Object(d.a)({},s));case 3:t=e.sent,console.log(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-title"},"Sign In"),r.a.createElement("div",{className:"login"},r.a.createElement("input",{placeholder:"Enter login",id:"login",type:"text",name:"login",className:"validate"})),r.a.createElement("div",{className:"password"},r.a.createElement("input",{placeholder:"Enter password",id:"password",type:"text",name:"password",className:"validate"})),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"button sign-in"},"Sign In"),r.a.createElement("div",{className:"button",onClick:E},"Sign Up")))},g=function(){return r.a.createElement("div",{className:"home-page-container"},r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"blw item"}),r.a.createElement("div",{className:"pure item"}),r.a.createElement("div",{className:"prediatric item"})))},f=a(23),h=function(){var e={title:"Some title",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},t=Object(f.a)(Array(10)).map((function(t,a){return e}));return console.log(t),r.a.createElement("div",{className:"recipes"},t.map((function(e){return r.a.createElement("div",{className:"recipe"},r.a.createElement("img",{src:"https://i0.wp.com/demo.wpzoom.com/gourmand/files/2019/04/gourmand14.jpg?resize=380%2C520&ssl=1"}),r.a.createElement("div",{className:"txt-container"},r.a.createElement("div",{className:"title"},e.title),r.a.createElement("div",{className:"description"},e.description),r.a.createElement("div",{className:"more-btn"},"More")))})))},O=function(){Object(i.g)(),Object(n.useContext)(v);return r.a.createElement("div",{className:"footer"},"Footer will be placed here")},j=function(){Object(i.g)(),Object(n.useContext)(v);return r.a.createElement("div",{className:"top-panel"},r.a.createElement("div",{className:"login-btn"},r.a.createElement(o.b,{to:"/login"},"Sign In")))},N=function(){Object(i.g)(),Object(n.useContext)(v);return r.a.createElement("div",{className:"nav"},r.a.createElement(o.b,{to:"/"},"Home"),r.a.createElement(o.b,{to:"/"},"About"),r.a.createElement(o.b,{to:"/recipes"},"Recipes"))},w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"logo"},r.a.createElement("span",null,"Healthy"),r.a.createElement("span",null,"Plate")),r.a.createElement("div",{className:"logo-sm"},r.a.createElement("span",null,"H"),r.a.createElement("span",null,"P")))},k=function(){Object(i.g)(),Object(n.useContext)(v);var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"header ".concat(a?"open":"")},r.a.createElement("div",{className:"nav-icon",onClick:function(){c((function(e){return!e}))}},r.a.createElement("div",null)),r.a.createElement(j,null),r.a.createElement(w,null),r.a.createElement(N,null))};var S=function(){var e=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),l=Object(p.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(null),u=Object(p.a)(s,2),m=u[0],d=u[1],E=Object(n.useCallback)((function(e,t){r(e),d(t),localStorage.setItem("userData",JSON.stringify({userId:t,token:e}))}),[]),v=Object(n.useCallback)((function(){r(null),d(null),localStorage.removeItem("userData")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&E(e.token,e.userId),i(!0)}),[E]),{login:E,logout:v,token:a,userId:m,ready:o}}(),t=e.token,a=e.login,c=e.logout,l=e.userId,s=!!t;console.log("isAuthenticated ",s);var u=r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/recipes"},r.a.createElement(h,null)),r.a.createElement(i.b,{path:"/login"},r.a.createElement(b,null)),r.a.createElement(i.b,{path:"/",exact:!0},r.a.createElement(g,null)),r.a.createElement(i.a,{to:"/"}));return r.a.createElement(v.Provider,{value:{token:t,login:a,logout:c,userId:l,isAuthenticated:s}},r.a.createElement(o.a,null,r.a.createElement(k,null),r.a.createElement("div",{className:"hp-content"},u),r.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.02b81852.chunk.js.map